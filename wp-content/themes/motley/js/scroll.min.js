!function(e,r,t){"use strict";function X(t){if(l=r.documentElement,s=r.body,K(),be=this,t=t||{},Fe=t.constants||{},t.easing)for(var a in t.easing)U[a]=t.easing[a];Be=t.edgeStrategy||"set",we={beforerender:t.beforerender,render:t.render,keyframe:t.keyframe},xe=t.forceHeight!==!1,xe&&(Ae=t.scale||1),Ce=t.mobileDeceleration||w,ze=t.smoothScrolling!==!1,qe=t.smoothScrollingDuration||E,Le={targetTop:be.getScrollTop()},_e=(t.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),_e?(ke=r.getElementById(t.skrollrBody||x),ke&&ie(),j(),de(l,[h,b],[y])):de(l,[h,T],[y]),be.refresh(),le(e,"resize orientationchange",function(){var e=l.clientWidth,r=l.clientHeight;(r!==Ne||e!==Pe)&&(Ne=r,Pe=e,Oe=!0)});var n=Y();return function o(){J(),Re=n(o)}(),be}var l,s,a={get:function(){return be},init:function(e){return be||new X(e)},VERSION:"0.6.30"},n=Object.prototype.hasOwnProperty,o=e.Math,i=e.getComputedStyle,f="touchstart",v="touchmove",c="touchcancel",u="touchend",m="skrollable",p=m+"-before",d=m+"-between",g=m+"-after",h="skrollr",y="no-"+h,T=h+"-desktop",b=h+"-mobile",S="linear",k=1e3,w=.004,x="skrollr-body",E=200,A="start",F="end",C="center",H="bottom",D="___skrollable_id",I=/^(?:input|textarea|button|select)$/i,P=/^\s+|\s+$/g,N=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,O=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,V=/^(@?[a-z\-]+)\[(\w+)\]$/,z=/-([a-z0-9_])/g,q=function(e,r){return r.toUpperCase()},L=/[\-+]?[\d]*\.?[\d]+/g,M=/\{\?\}/g,$=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,B=/[a-z\-]+-gradient/g,_="",G="",K=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(i){var r=i(s,null);for(var t in r)if(_=t.match(e)||+t==t&&r[t].match(e))break;if(!_)return void(_=G="");_=_[0],"-"===_.slice(0,1)?(G=_,_={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[_]):G="-"+_.toLowerCase()+"-"}},Y=function(){var r=e.requestAnimationFrame||e[_.toLowerCase()+"RequestAnimationFrame"],t=ye();return(_e||!r)&&(r=function(r){var a=ye()-t,n=o.max(0,1e3/60-a);return e.setTimeout(function(){t=ye(),r()},n)}),r},R=function(){var r=e.cancelAnimationFrame||e[_.toLowerCase()+"CancelAnimationFrame"];return(_e||!r)&&(r=function(r){return e.clearTimeout(r)}),r},U={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-o.cos(e*o.PI)/2+.5},sqrt:function(e){return o.sqrt(e)},outCubic:function(e){return o.pow(e-1,3)+1},bounce:function(e){var r;if(.5083>=e)r=3;else if(.8489>=e)r=9;else if(.96208>=e)r=27;else{if(!(.99981>=e))return 1;r=91}return 1-o.abs(3*o.cos(e*r*1.028)/r)}};X.prototype.refresh=function(e){var a,n,o=!1;for(e===t?(o=!0,Se=[],$e=0,e=r.getElementsByTagName("*")):e.length===t&&(e=[e]),a=0,n=e.length;n>a;a++){var i=e[a],l=i,s=[],f=ze,v=Be,c=!1;if(o&&D in i&&delete i[D],i.attributes){for(var u=0,p=i.attributes.length;p>u;u++){var d=i.attributes[u];if("data-anchor-target"!==d.name)if("data-smooth-scrolling"!==d.name)if("data-edge-strategy"!==d.name)if("data-emit-events"!==d.name){var g=d.name.match(N);if(null!==g){var h={props:d.value,element:i,eventType:d.name.replace(z,q)};s.push(h);var y=g[1];y&&(h.constant=y.substr(1));var T=g[2];/p$/.test(T)?(h.isPercentage=!0,h.offset=(0|T.slice(0,-1))/100):h.offset=0|T;var b=g[3],S=g[4]||b;b&&b!==A&&b!==F?(h.mode="relative",h.anchors=[b,S]):(h.mode="absolute",b===F?h.isEnd=!0:h.isPercentage||(h.offset=h.offset*Ae))}}else c=!0;else v=d.value;else f="off"!==d.value;else if(l=r.querySelector(d.value),null===l)throw'Unable to find anchor target "'+d.value+'"'}if(s.length){var k,w,x;!o&&D in i?(x=i[D],k=Se[x].styleAttr,w=Se[x].classAttr):(x=i[D]=$e++,k=i.style.cssText,w=pe(i)),Se[x]={element:i,styleAttr:k,classAttr:w,anchorTarget:l,keyFrames:s,smoothScrolling:f,edgeStrategy:v,emitEvents:c,lastFrameIndex:-1},de(i,[m],[])}}}for(ce(),a=0,n=e.length;n>a;a++){var E=Se[e[a][D]];E!==t&&(Q(E),re(E))}return be},X.prototype.relativeToAbsolute=function(e,r,t){var a=l.clientHeight,n=e.getBoundingClientRect(),o=n.top,i=n.bottom-n.top;return r===H?o-=a:r===C&&(o-=a/2),t===H?o+=i:t===C&&(o+=i/2),o+=be.getScrollTop(),o+.5|0},X.prototype.animateTo=function(e,r){r=r||{};var a=ye(),n=be.getScrollTop(),o=r.duration===t?k:r.duration;return Ve={startTop:n,topDiff:e-n,targetTop:e,duration:o,startTime:a,endTime:a+o,easing:U[r.easing||S],done:r.done},Ve.topDiff||(Ve.done&&Ve.done.call(be,!1),Ve=t),be},X.prototype.stopAnimateTo=function(){Ve&&Ve.done&&Ve.done.call(be,!0),Ve=t},X.prototype.isAnimatingTo=function(){return!!Ve},X.prototype.isMobile=function(){return _e},X.prototype.setScrollTop=function(r,t){return Me=t===!0,_e?Ge=o.min(o.max(r,0),Ee):e.scrollTo(0,r),be},X.prototype.getScrollTop=function(){return _e?Ge:e.pageYOffset||l.scrollTop||s.scrollTop||0},X.prototype.getMaxScrollTop=function(){return Ee},X.prototype.on=function(e,r){return we[e]=r,be},X.prototype.off=function(e){return delete we[e],be},X.prototype.destroy=function(){var e=R();e(Re),fe(),de(l,[y],[h,T,b]);for(var r=0,n=Se.length;n>r;r++)oe(Se[r].element);l.style.overflow=s.style.overflow="",l.style.height=s.style.height="",ke&&a.setStyle(ke,"transform","none"),be=t,ke=t,we=t,xe=t,Ee=0,Ae=1,Fe=t,Ce=t,He="down",De=-1,Pe=0,Ne=0,Oe=!1,Ve=t,ze=t,qe=t,Le=t,Me=t,$e=0,Be=t,_e=!1,Ge=0,Ke=t};var j=function(){var a,n,i,m,p,d,g,h,y,T,b,S;le(l,[f,v,c,u].join(" "),function(e){var l=e.changedTouches[0];for(m=e.target;3===m.nodeType;)m=m.parentNode;switch(p=l.clientY,d=l.clientX,T=e.timeStamp,I.test(m.tagName)||e.preventDefault(),e.type){case f:a&&a.blur(),be.stopAnimateTo(),a=m,n=g=p,i=d,y=T;break;case v:I.test(m.tagName)&&r.activeElement!==m&&e.preventDefault(),h=p-g,S=T-b,be.setScrollTop(Ge-h,!0),g=p,b=T;break;default:case c:case u:var s=n-p,k=i-d,w=k*k+s*s;if(49>w){if(!I.test(a.tagName)){a.focus();var x=r.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,e.view,1,l.screenX,l.screenY,l.clientX,l.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),a.dispatchEvent(x)}return}a=t;var E=h/S;E=o.max(o.min(E,3),-3);var A=o.abs(E/Ce),F=E*A+.5*Ce*A*A,C=be.getScrollTop()-F,H=0;C>Ee?(H=(Ee-C)/F,C=Ee):0>C&&(H=-C/F,C=0),A*=1-H,be.animateTo(C+.5|0,{easing:"outCubic",duration:A})}}),e.scrollTo(0,0),l.style.overflow=s.style.overflow="hidden"},W=function(){var t,a,n,i,s,f,v,c,u,m,p,e=l.clientHeight,r=ue();for(c=0,u=Se.length;u>c;c++)for(t=Se[c],a=t.element,n=t.anchorTarget,i=t.keyFrames,s=0,f=i.length;f>s;s++)v=i[s],m=v.offset,p=r[v.constant]||0,v.frame=m,v.isPercentage&&(m*=e,v.frame=m),"relative"===v.mode&&(oe(a),v.frame=be.relativeToAbsolute(n,v.anchors[0],v.anchors[1])-m,oe(a,!0)),v.frame+=p,xe&&!v.isEnd&&v.frame>Ee&&(Ee=v.frame);for(Ee=o.max(Ee,me()),c=0,u=Se.length;u>c;c++){for(t=Se[c],i=t.keyFrames,s=0,f=i.length;f>s;s++)v=i[s],p=r[v.constant]||0,v.isEnd&&(v.frame=Ee-v.offset+p);t.keyFrames.sort(Te)}},Z=function(e,r){for(var t=0,o=Se.length;o>t;t++){var k,w,i=Se[t],l=i.element,s=i.smoothScrolling?e:r,f=i.keyFrames,v=f.length,c=f[0],u=f[f.length-1],h=s<c.frame,y=s>u.frame,T=h?c:u,b=i.emitEvents,S=i.lastFrameIndex;if(h||y){if(h&&-1===i.edge||y&&1===i.edge)continue;switch(h?(de(l,[p],[g,d]),b&&S>-1&&(ve(l,c.eventType,He),i.lastFrameIndex=-1)):(de(l,[g],[p,d]),b&&v>S&&(ve(l,u.eventType,He),i.lastFrameIndex=v)),i.edge=h?-1:1,i.edgeStrategy){case"reset":oe(l);continue;case"ease":s=T.frame;break;default:case"set":var x=T.props;for(k in x)n.call(x,k)&&(w=ne(x[k].value),0===k.indexOf("@")?l.setAttribute(k.substr(1),w):a.setStyle(l,k,w));continue}}else 0!==i.edge&&(de(l,[m,d],[p,g]),i.edge=0);for(var E=0;v-1>E;E++)if(s>=f[E].frame&&s<=f[E+1].frame){var A=f[E],F=f[E+1];for(k in A.props)if(n.call(A.props,k)){var C=(s-A.frame)/(F.frame-A.frame);C=A.props[k].easing(C),w=ae(A.props[k].value,F.props[k].value,C),w=ne(w),0===k.indexOf("@")?l.setAttribute(k.substr(1),w):a.setStyle(l,k,w)}b&&S!==E&&("down"===He?ve(l,A.eventType,He):ve(l,F.eventType,He),i.lastFrameIndex=E);break}}},J=function(){Oe&&(Oe=!1,ce());var r,o,e=be.getScrollTop(),n=ye();if(Ve)n>=Ve.endTime?(e=Ve.targetTop,r=Ve.done,Ve=t):(o=Ve.easing((n-Ve.startTime)/Ve.duration),e=Ve.startTop+o*Ve.topDiff|0),be.setScrollTop(e,!0);else if(!Me){var i=Le.targetTop-e;i&&(Le={startTop:De,topDiff:e-De,targetTop:e,startTime:Ie,endTime:Ie+qe}),n<=Le.endTime&&(o=U.sqrt((n-Le.startTime)/qe),e=Le.startTop+o*Le.topDiff|0)}if(Me||De!==e){He=e>De?"down":De>e?"up":He,Me=!1;var l={curTop:e,lastTop:De,maxTop:Ee,direction:He},s=we.beforerender&&we.beforerender.call(be,l);s!==!1&&(Z(e,be.getScrollTop()),_e&&ke&&a.setStyle(ke,"transform","translate(0, "+-Ge+"px) "+Ke),De=e,we.render&&we.render.call(be,l)),r&&r.call(be,!1)}Ie=n},Q=function(e){for(var r=0,t=e.keyFrames.length;t>r;r++){for(var n,o,i,s,a=e.keyFrames[r],l={};null!==(s=O.exec(a.props));)i=s[1],o=s[2],n=i.match(V),null!==n?(i=n[1],n=n[2]):n=S,o=o.indexOf("!")?ee(o):[o.slice(1)],l[i]={value:o,easing:U[n]};a.props=l}},ee=function(e){var r=[];return $.lastIndex=0,e=e.replace($,function(e){return e.replace(L,function(e){return e/255*100+"%"})}),G&&(B.lastIndex=0,e=e.replace(B,function(e){return G+e})),e=e.replace(L,function(e){return r.push(+e),"{?}"}),r.unshift(e),r},re=function(e){var t,a,r={};for(t=0,a=e.keyFrames.length;a>t;t++)te(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)te(e.keyFrames[t],r)},te=function(e,r){var t;for(t in r)n.call(e.props,t)||(e.props[t]=r[t]);for(t in e.props)r[t]=e.props[t]},ae=function(e,r,t){var a,n=e.length;if(n!==r.length)throw"Can't interpolate between \""+e[0]+'" and "'+r[0]+'"';var o=[e[0]];for(a=1;n>a;a++)o[a]=e[a]+(r[a]-e[a])*t;return o},ne=function(e){var r=1;return M.lastIndex=0,e[0].replace(M,function(){return e[r++]})},oe=function(e,r){e=[].concat(e);for(var t,a,n=0,o=e.length;o>n;n++)a=e[n],t=Se[a[D]],t&&(r?(a.style.cssText=t.dirtyStyleAttr,de(a,t.dirtyClassAttr)):(t.dirtyStyleAttr=a.style.cssText,t.dirtyClassAttr=pe(a),a.style.cssText=t.styleAttr,de(a,t.classAttr)))},ie=function(){Ke="translateZ(0)",a.setStyle(ke,"transform",Ke);var e=i(ke),r=e.getPropertyValue("transform"),t=e.getPropertyValue(G+"transform"),n=r&&"none"!==r||t&&"none"!==t;n||(Ke="")};a.setStyle=function(e,r,t){var a=e.style;if(r=r.replace(z,q).replace("-",""),"zIndex"===r)isNaN(t)?a[r]=t:a[r]=""+(0|t);else if("float"===r)a.styleFloat=a.cssFloat=t;else try{_&&(a[_+r.slice(0,1).toUpperCase()+r.slice(1)]=t),a[r]=t}catch(n){}};var be,Se,ke,we,xe,Fe,Ce,Ve,ze,qe,Le,Me,Be,Ke,Re,le=a.addEvent=function(r,t,a){var n=function(r){return r=r||e.event,r.target||(r.target=r.srcElement),r.preventDefault||(r.preventDefault=function(){r.returnValue=!1,r.defaultPrevented=!0}),a.call(this,r)};t=t.split(" ");for(var o,i=0,l=t.length;l>i;i++)o=t[i],r.addEventListener?r.addEventListener(o,a,!1):r.attachEvent("on"+o,n),Ye.push({element:r,name:o,listener:a})},se=a.removeEvent=function(e,r,t){r=r.split(" ");for(var a=0,n=r.length;n>a;a++)e.removeEventListener?e.removeEventListener(r[a],t,!1):e.detachEvent("on"+r[a],t)},fe=function(){for(var e,r=0,t=Ye.length;t>r;r++)e=Ye[r],se(e.element,e.name,e.listener);Ye=[]},ve=function(e,r,t){we.keyframe&&we.keyframe.call(be,e,r,t)},ce=function(){var e=be.getScrollTop();Ee=0,xe&&!_e&&(s.style.height=""),W(),xe&&!_e&&(s.style.height=Ee+l.clientHeight+"px"),_e?be.setScrollTop(o.min(be.getScrollTop(),Ee)):be.setScrollTop(e,!0),Me=!0},ue=function(){var t,a,e=l.clientHeight,r={};for(t in Fe)a=Fe[t],"function"==typeof a?a=a.call(be):/p$/.test(a)&&(a=a.slice(0,-1)/100*e),r[t]=a;return r},me=function(){var r,e=0;return ke&&(e=o.max(ke.offsetHeight,ke.scrollHeight)),r=o.max(e,s.scrollHeight,s.offsetHeight,l.scrollHeight,l.offsetHeight,l.clientHeight),r-l.clientHeight},pe=function(r){var t="className";return e.SVGElement&&r instanceof e.SVGElement&&(r=r[t],t="baseVal"),r[t]},de=function(r,a,n){var o="className";if(e.SVGElement&&r instanceof e.SVGElement&&(r=r[o],o="baseVal"),n===t)return void(r[o]=a);for(var i=r[o],l=0,s=n.length;s>l;l++)i=he(i).replace(he(n[l])," ");i=ge(i);for(var f=0,v=a.length;v>f;f++)-1===he(i).indexOf(he(a[f]))&&(i+=" "+a[f]);r[o]=ge(i)},ge=function(e){return e.replace(P,"")},he=function(e){return" "+e+" "},ye=Date.now||function(){return+new Date},Te=function(e,r){return e.frame-r.frame},Ee=0,Ae=1,He="down",De=-1,Ie=ye(),Pe=0,Ne=0,Oe=!1,$e=0,_e=!1,Ge=0,Ye=[];"function"==typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:e.skrollr=a}(window,document);