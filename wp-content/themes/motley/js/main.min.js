function initialize(){var e=[{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#000000"},{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:"0.75"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ded7c6"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ded7c6"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:700}]},{featureType:"water",elementType:"all",stylers:[{color:"#b6af9e"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}],t=new google.maps.StyledMapType(e,{name:"Styled Map"}),s={center:new google.maps.LatLng(45.423268,-75.692494),mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]},scrollwheel:!1,scaleControl:!0,draggable:!1,panControl:!0},o=new google.maps.Map(document.getElementById("map"),s),i=new google.maps.LatLngBounds;o.mapTypes.set("map_style",t),o.setMapTypeId("map_style");var n,d,a=[["Elgin St. Location",45.420268,-75.692494],["Queen St. Location",45.420685,-75.700069],["Rideau Centre Dining Hall",45.4251,-75.691156],["Albert St. Location",45.418827,-75.702487]],l=[['<div class="infowindow"><p>Elgin St. Location</p><span>7-160 Elgin Street</span></div>'],['<div class="infowindow"><p>Queen St. Location</p><span>99 Bank Street Suite G009</span></div>'],['<div class="infowindow"><p>Rideau Centre Dining Hall</p><span>50 Rideau Street</span></div>'],['<div class="infowindow"><p>Albert St. Location</p><span>340 Albert St. Suite 140</span></div>']],r=new google.maps.InfoWindow;for(d=0;d<a.length;d++){var c=new google.maps.LatLng(a[d][1],a[d][2]);i.extend(c),n=new google.maps.Marker({position:c,map:o,title:a[d][0],icon:"img/pin-sh.png"}),google.maps.event.addListener(n,"click",function(e,t){return function(){r.setContent(l[t][0]),r.open(o,e)}}(n,d)),o.fitBounds(i)}var p=google.maps.event.addListener(o,"bounds_changed",function(e){this.setZoom(15),google.maps.event.removeListener(p)})}function toggleFields(){"buy"==$("#formtype").val()?($("#buyform").show(),$("#rentform").hide()):($("#rentform").show(),$("#buyform").hide())}function showErrorMessage(e){var t='<div class="modal"><div class="alert"><p>'+e+'</p><div class="btn-group"><a href="#" class="btn btn-outline close-msg">OK</a></div></div></div>';$(t).appendTo("#message")}function hideMessage(){$("#message").empty()}if($(window).width()>1180)var s=skrollr.init({smoothScrolling:!0,smoothScrollingDuration:1e3});if($(window).width()>960)var swiperGallery=new Swiper("#swiper-gallery",{nextButton:"#next-slide",prevButton:"#prev-slide",slidesPerView:1,loop:!0,speed:500,loopAdditionalSlides:2,spaceBetween:0,autoplay:6e3,simulateTouch:!1});$("#scroll-down").on("click",function(e){var t=$("#scroll-target");t.length&&(e.preventDefault(),$("html, body").stop().animate({scrollTop:$(t).offset().top-50},1e3))}),$("#hamburger").click(function(){$("header").hasClass("open")?$("header").removeClass("open"):$("header").addClass("open")}),$("#scroll-down").click(function(e){e.preventDefault()}),$('input[type="checkbox"]').on("change",function(){var t=($(this),$(this).parent()),s=$(this).parent().parent(),o=s.find("input"),i=s.find("select");$(t).hasClass("selected")?($(t).removeClass("selected"),$(s).removeClass("selected"),$(o).removeClass("selected-input"),$(i).removeClass("selected-input")):($(t).addClass("selected"),$(s).addClass("selected"),$(o).addClass("selected-input"),$(i).addClass("selected-input"))}),$('input[type="radio"]').on("change",function(){var t=($(this),$(this).parent()),s=$(".radio-group .selected");$(s).removeClass("selected"),$(t).addClass("selected")}),document.getElementById("map")&&google.maps.event.addDomListener(window,"load",initialize),toggleFields(),$("#formtype").change(function(){toggleFields()}),$(".digit").each(function(){var e=$(this);$(e).prop("that",0).animate({Counter:$(this).text()},{duration:1500,easing:"linear",step:function(t){$(e).text(Math.ceil(t))}})}),$(window).scroll(function(){var e=$(window).height(),t=.05*e,s=$(".intro").height(),o=$(window).scrollTop();$("body").hasClass("catering-order-form")?o>s?$(".order-steps").addClass("scroll"):$(".order-steps").removeClass("scroll"):(o>t&&$("header").addClass("scroll"),t>o&&$("header").removeClass("scroll"))}),$(".toggle").click(function(){var e=$(this).attr("data-toggle"),t="#"+e,s=$(".toggle.open"),o=$(".toggable.open");$(this).addClass("open"),$(s).removeClass("open"),$(o).removeClass("open").slideUp(),$(t).addClass("open").slideDown()}),$("#step-1").click(function(e){e.preventDefault()}),$("#step-2").click(function(e){e.preventDefault()}),$("#trigger-step-2").click(function(e){var t=!0;e.preventDefault(),$("#form").validate({rules:{day_contact_email:{email:!0},contact_email:{required:!0,email:!0}}}).form();var s=$("#form-step-1").find("input");if($(s).each(function(){$(this).hasClass("error")&&(t=!1)}),t){var o=$(".intro").height();$("#form-step-1").hide(),$("#form-step-2").show(),$("html,body").scrollTop(o),$("#step-1").removeClass("current").addClass("completed"),$("#step-2").addClass("current")}else{e.preventDefault();var o=$(".intro").height();$("html,body").scrollTop(o),showErrorMessage("Some fields are missing or incorrect. Please double check.")}}),$("#trigger-step-1").click(function(e){e.preventDefault();var t=$(".intro").height();$("html,body").scrollTop(t),$("#form-step-2").hide(),$("#form-step-1").show(),$("#step-2").removeClass("current"),$("#step-1").removeClass("completed").addClass("current")}),jQuery("#submit").click(function(e){e.preventDefault();var t=$("#form"),s=$("#form input, #form select, #form textarea"),o=s.filter(".selected-input").serialize();$(t).addClass("sending"),hideMessage();var i={action:"my_send_email",serialize:o,security:$("#email-input").val()};setTimeout(function(){jQuery.post("/wp-admin/admin-ajax.php",i,function(e){}).always(function(e){"complete_form"==e?document.location.href="/success":"error_form"==e?($("#form").removeClass("sending"),showErrorMessage("Some data seems to be incorrect. Please check your form and try again.")):($("#form").removeClass("sending"),showErrorMessage("Upsss... <br/>something went wrong. Please try again."))})},500)}),$("body").on("click",".close-msg",function(e){e.preventDefault(),hideMessage()}),".datepicker".length&&$(".datepicker").datepicker({firstDay:1,dateFormat:"mm/dd/yy"});
